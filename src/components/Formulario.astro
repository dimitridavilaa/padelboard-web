---
// src/components/Formulario.astro
---

<section id="contacto" class="formulario-section">
  <div class="container fade-up">
    <div class="form-wrapper">
      
      <div class="form-content">
        <h2 class="h2-titulo">LLEVA TU CLUB AL SIGUIENTE NIVEL</h2>
        <p class="subtitulo">Completa el formulario y nuestro equipo te contactar치 para una cotizaci칩n a medida.</p>

        <form 
          class="b2b-form" 
          action="https://formspree.io/f/xwvepgry" 
          method="POST"
        >
          
          <div class="form-group">
            <label for="nombre">Nombre y Apellido</label>
            <input type="text" id="nombre" name="nombre" placeholder="Nombre" required>
          </div>

          <div class="form-row">
            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" placeholder="juan@mail.com" required>
            </div>
            
            <div class="form-group">
              <label for="whatsapp">WhatsApp / Tel칠fono</label>

              <div class="unified-box">
                  
                <select name="cod_pais" class="unified-select" required>
                  <option value="+593" selected>游쀯릖 +593</option> 
                  <option value="+54">游뷣릖 +54</option>  
                  <option value="+591">游游 +591</option> 
                  <option value="+55">游游 +55</option>  
                  <option value="+56">游뻟릖 +56</option>  
                  <option value="+57">游뻟릖 +57</option>  
                  <option value="+506">游뻟릖 +506</option> 
                  <option value="+503">游젏릖 +503</option>     
                  <option value="+502">游섫릖 +502</option> 
                  <option value="+504">游쇓릖 +504</option> 
                  <option value="+52">游쓇릖 +52</option>  
                  <option value="+505">游游 +505</option> 
                  <option value="+507">游왫릖 +507</option> 
                  <option value="+595">游왫릖 +595</option> 
                  <option value="+51">游왫릖 +51</option>  
                  <option value="+598">游쥟릖 +598</option> 
                  <option value="+58">游游 +58</option>
                  <option value="+1">游쥟릖 +1</option>
                  <option value="">Otro</option>
              </select>

                <div class="unified-divider"></div>

                  <input type="tel" id="whatsapp" name="whatsapp" placeholder="N칰mero" class="unified-input"required>
              </div>
          </div>

          </div><div class="form-row">
            <div class="form-group">
                <label for="club">Nombre del Club</label>
                <input type="text" id="club" name="club" placeholder="Padel Club..." required>
            </div>

            <div class="form-group">
              <label for="pais">Pa칤s</label>
              <select id="pais" name="pais" required>
                <option value="" disabled selected>Selecciona tu pa칤s...</option>
                <option value="EC">Ecuador</option>
                <option value="AR">Argentina</option>
                <option value="BO">Bolivia</option>
                <option value="BR">Brasil</option>
                <option value="CL">Chile</option>
                <option value="CO">Colombia</option>
                <option value="CR">Costa Rica</option>
                <option value="SV">El Salvador</option>
                <option value="GT">Guatemala</option>
                <option value="HN">Honduras</option>
                <option value="MX">M칠xico</option>
                <option value="NI">Nicaragua</option>
                <option value="PA">Panam치</option>
                <option value="PY">Paraguay</option>
                <option value="PE">Per칰</option>
                <option value="UY">Uruguay</option>
                <option value="VE">Venezuela</option>
                <option value="US">Estados Unidos</option>
                <option value="OTRO">Otro</option>
              </select>
          </div>
          </div>

          <div class="form-group">
            <label for="mensaje">쮺칩mo podemos ayudarte?</label>
            <textarea id="mensaje" name="mensaje" rows="4" placeholder="Escribe aqu칤 tus dudas, n칰mero de canchas o requerimientos..."></textarea>
          </div>

          <button type="submit" class="btn-submit">SOLICITAR INFORMACI칍N</button>
        </form>
      </div>

      <div class="form-image">
        <img 
          src="/img/formulario.jpg" 
          alt="Cancha de Padel Profesional" 
        />
        <div class="image-overlay">
          <span>El futuro del p치del est치 aqu칤</span>
        </div>
      </div>

    </div>
  </div>
</section>

<style>
  /* --- SECCI칍N GENERAL --- */
  .formulario-section {
    padding: 80px 20px;
    /* CAMBIO: Fondo oscuro para continuidad */
    background-color: var(--color-azul-fondo); 
    color: white;
  }

  .container {
    max-width: 1100px;
    margin: 0 auto;
  }

  .form-wrapper {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0;
    /* CAMBIO: Tarjeta oscura en lugar de blanca */
    background: #061A4F; /* Un tono ligeramente m치s claro que el fondo para que destaque */
    border: 1px solid rgba(255,255,255,0.1); /* Borde sutil */
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 20px 50px rgba(0,0,0,0.5);
  }

  /* --- CONTENIDO IZQUIERDA --- */
  .form-content {
    padding: 40px 30px;
  }

  .h2-titulo {
    font-family: var(--fuente-titulos);
    font-size: 2.5rem;
    margin-top: 0;
    margin-bottom: 15px;
    line-height: 1;
    color: white;
    text-transform: uppercase;
  }

  .subtitulo {
    font-size: 1rem;
    color: rgba(255,255,255,0.7); /* Blanco con transparencia */
    margin-bottom: 32px;
    line-height: 1.5;
  }

  /* --- FORMULARIO --- */
  .form-group {
    margin-bottom: 20px;
  }

  .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
  }

  label {
    display: block;
    font-size: 0.9rem;
    font-weight: 700;
    margin-bottom: 8px;
    color: white;
    font-family: var(--fuente-cuerpo);
  }

  /* INPUTS DARK MODE */
  input, select, textarea {
    width: 100%;
    padding: 16px 20px;
    /* Fondo oscuro para los campos */
    background-color: rgba(0,0,0,0.3); 
    border: 1px solid rgba(255,255,255,0.2);
    border-radius: 12px;
    font-size: 1rem;
    font-family: inherit;
    color: white; /* Texto blanco al escribir */
    transition: all 0.3s ease;
    box-sizing: border-box;
  }

  textarea {
      resize: vertical; /* Permite al usuario estirar la caja hacia abajo si necesita escribir mucho */
      min-height: 100px;
  }
  
  /* Color del texto de ayuda (placeholder) */
  input::placeholder {
      color: rgba(255,255,255,0.3);
  }

  input:focus, select:focus {
    outline: none;
    background-color: rgba(0,0,0,0.5);
    border-color: var(--color-azul-claro);
    box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.2);
  }
  
  /* Arreglo para opciones del select en fondo oscuro (para que sean legibles) */
  select option {
      background-color: #04133E;
      color: white;
  }

  /* --- BOT칍N DE ACCI칍N --- */
  .btn-submit {
    width: 100%;
    padding: 18px;
    background: var(--color-azul-claro);
    color: white;
    font-family: var(--fuente-titulos);
    font-weight: 400;
    letter-spacing: 1px;
    font-size: 1.2rem;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
    margin-top: 10px;
    box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
  }

  .btn-submit:hover {
    background-color: #2563EB; /* Un azul un poco m치s oscuro al hover */
    transform: translateY(-2px);
  }

  /* --- IMAGEN DERECHA --- */
  .form-image {
    position: relative;
    width: 100%;
    height: 100%; /* Asegura que llene la altura */
  }

  .form-image img {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    object-fit: cover;
    display: block;
  }

  .image-overlay {
    position: absolute;
    bottom: 0; left: 0; right: 0;
    padding: 40px;
    background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
    color: white;
  }

  .image-overlay span {
    font-family: var(--fuente-titulos);
    font-size: 2.3rem;
    text-transform: uppercase;
    color: var(--color-amarillo);
    line-height: 1;
  }

  /* --- ESTILOS PARA EL INPUT DE TEL칄FONO COMPUESTO --- */
  .phone-wrapper {
      display: flex; /* Pone los elementos en fila */
      gap: 10px; /* Espacio entre el c칩digo y el n칰mero */
      width: 100%;
  }

  /* Estilo espec칤fico para el selector de c칩digo */
  .code-select {
      width: 110px; /* Ancho fijo suficiente para la bandera y el c칩digo */
      flex-shrink: 0; /* Evita que se aplaste si falta espacio */
      padding-left: 10px; /* Ajuste para que se vea centrado */
      text-align: center;
      /* Mismos estilos base que tus otros inputs */
      background-color: rgba(0,0,0,0.3);
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: 12px;
      color: white;
  }

  .phone-wrapper input {
      flex: 1; /* Ocupa solo el espacio sobrante, no el 100% forzado */
      width: auto; /* Reseteamos el ancho */
      min-width: 0; /* Evita desbordes en Flexbox */
  }
  
  /* Arreglo para que las opciones se vean bien en fondo oscuro */
  .code-select option {
      background-color: #04133E;
      text-align: left;
  }

  /* --- ESTILOS CAJA UNIFICADA (Estilo Uber/Stripe) --- */
  .unified-box {
      display: flex;
      align-items: center;
      width: 100%;
      /* El fondo y borde van en el CONTENEDOR, no en los inputs */
      background-color: rgba(0,0,0,0.3);
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: 12px;
      overflow: hidden; /* Asegura que nada se salga de las esquinas redondas */
      transition: all 0.3s ease;
  }

  /* Efecto Focus: Si el usuario toca dentro, iluminamos el borde del contenedor */
  .unified-box:focus-within {
      background-color: rgba(0,0,0,0.5);
      border-color: var(--color-azul-claro);
      box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.2);
  }

  .unified-select {
      background: transparent;
      border: none;
      color: white;
      padding: 16px 5px 16px 15px; /* Espacio c칩modo */
      width: auto;
      cursor: pointer;
      font-size: 1rem;
      outline: none; /* Quitamos el borde azul por defecto */
  }
  
  .unified-select option {
      background-color: #04133E; /* Fondo oscuro para las opciones */
  }

  .unified-divider {
      width: 1px;
      height: 24px;
      background-color: rgba(255,255,255,0.2); /* L칤nea sutil */
      margin: 0 5px;
  }

  .unified-input {
      background: transparent !important; /* Forzamos transparencia */
      border: none !important; /* Sin bordes individuales */
      padding: 16px !important;
      color: white;
      flex: 1; /* Ocupa todo el espacio restante */
      min-width: 0; /* CLAVE: Evita que el input empuje y rompa el dise침o en m칩vil */
      outline: none;
  }

  /* --- M칍VIL (GLASS + FONDO DE IMAGEN) --- */
  @media (max-width: 900px) {
    
    /* 1. APLICAMOS LA FOTO DE FONDO A TODA LA SECCI칍N */
    .formulario-section {
        position: relative;
        /* Usamos un degradado sobre la foto para oscurecerla y que se lea bien */
        background-image: 
            linear-gradient(rgba(4, 19, 62, 0.2), rgba(4, 19, 62, 0.2)),
            url('/img/padelboard_fondo.jpg');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;

        padding: 60px 1px;
    }

    .form-wrapper {
      grid-template-columns: 1fr;
      
      /* 2. EFECTO GLASS (TARJETA TRANSPARENTE) */
      background-color: rgba(12, 18, 35, 0.55); /* Azul muy transparente */
      backdrop-filter: blur(3px); /* Efecto borroso detr치s */
      -webkit-backdrop-filter: blur(3px); /* Soporte para Safari */
      
      /* Borde brillante para resaltar el cristal */
      border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    }
    
    /* Ocultamos la imagen original de la derecha porque ya la usamos de fondo */
    .form-image {
      display: none; 
    }
    
    .form-content {
        padding: 40px 20px;
    }
    
    .form-row {
        grid-template-columns: 1fr; /* Inputs apilados */
    }
    
    .h2-titulo {
        font-size: 2rem;
        text-shadow: 0 4px 10px rgba(0,0,0,0.3); /* Sombra para resaltar t칤tulo */
    }
  }
</style>